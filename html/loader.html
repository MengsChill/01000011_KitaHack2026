<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SmartStick | Initializing...</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="../css/loader.css">
    
    <style>body { margin: 0; background-color: #020205; overflow: hidden; }</style>
</head>
<body>

    <div id="sys-loader">
        <div class="loader-content">
            
            <img src="../images/logo.png" alt="SmartStick Logo" class="hero-icon">

            <div class="loader-logo">SMART<span class="highlight">STICK</span></div>
            
            <div class="tagline">A SMARTER WAY TO WALK</div>
            
            <div class="progress-track">
                <div class="progress-fill" id="loader-bar"></div>
            </div>
            
            <div class="loader-text">
                <span id="loader-msg" class="sys-msg">ESTABLISHING UPLINK...</span>
                <span id="loader-percent">0%</span>
            </div>
        </div>
    </div>

    <script>
        window.addEventListener('load', () => {
            const bar = document.getElementById('loader-bar');
            const pct = document.getElementById('loader-percent');
            const msg = document.getElementById('loader-msg');

            // Technical loading phrases for immersion
            const phrases = [
                "ESTABLISHING UPLINK...",
                "LOADING NEURAL MAPS...",
                "CALIBRATING HAPTICS...",
                "SYNCING AI VISION...",
                "OPTIMIZING POWER...",
                "SYSTEM ONLINE."
            ];

            let progress = 0;
            let phraseIndex = 0;

            const timer = setInterval(() => {
                // Randomize speed for realistic "loading" feel
                progress += Math.random() * 1.5; 
                if(progress > 100) progress = 100;

                // Update UI
                bar.style.width = `${progress}%`;
                pct.innerText = `${Math.floor(progress)}%`;

                // Update Text Cycle
                if(progress > 15 && phraseIndex === 0) { msg.innerText = phrases[1]; phraseIndex++; }
                if(progress > 35 && phraseIndex === 1) { msg.innerText = phrases[2]; phraseIndex++; }
                if(progress > 55 && phraseIndex === 2) { msg.innerText = phrases[3]; phraseIndex++; }
                if(progress > 80 && phraseIndex === 3) { msg.innerText = phrases[4]; phraseIndex++; }
                
                // FINISH & REDIRECT
                if(progress >= 100) { 
                    msg.innerText = phrases[5]; 
                    clearInterval(timer);
                    
                    // Small delay before redirect to let user see "System Online"
                    setTimeout(() => {
                        window.location.href = 'homepage.html';
                    }, 800);
                }
            }, 30); 
        });
    </script>
</body>
</html>